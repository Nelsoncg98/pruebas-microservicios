classDiagram
    %% Entidad Linea (superior derecha)
    class Linea {
        -Long id
        -String nom
        -double pre
        -int can
        +getImporte() double
    }
    
    %% Entidad Carro (superior centro)
    class Carro {
        -double tot
        -List ces
    }
    
    %% Entidad Boleta (inferior derecha)
    class Boleta {
        -String fec
        -String tot
        -List lis
    }
    
    %% Entidad Linea (inferior extremo derecha)
    class LineaInferior {
        -Long id
        -String nom
        -double pre
        -int can
        +getImporte() double
    }
    
    %% Servicio ApiCarro (izquierda-centro)
    class ServicioCarro {
        +agregar(lin: Linea) Carro
        +quitar(id: Long) Carro
        +nuevo() Carro
    }
    
    %% Servicio ApiCarrito (centro-derecha)
    class ServicioCarrito {
        +agregar(lin: Linea) Linea
        +quitar(id: Long) void
        +listar() List
        +total() double
        +nuevo() void
    }
    
    %% Servicio ApiBoleta (inferior centro)
    class ServicioBoleta {
        +nuevo() Boleta
    }
    
    %% Repositorio
    class Repositorio {
        <<interface>>
    }
    
    %% JpaRepository
    class JpaRepository {
    }
    
    %% EurekaServer
    class EurekaServer {
    }
    
    %% Controlador Carrito
    class Carrito {
    }
    
    %% APIs
    class ApiCarro {
        <<circle>>
    }
    
    class ApiCarrito {
        <<circle>>
    }
    
    class ApiBoletaCarrito {
        <<circle>>
    }
    
    %% Operaciones
    class Nuevo {
    }
    
    class Agregar {
    }
    
    class Quitar {
    }
    
    %% Relaciones - Carrito a Operaciones
    Carrito --> Nuevo
    Carrito --> Agregar
    Carrito --> Quitar
    
    %% Conexiones entre microservicios mediante endpoints
    ServicioCarro -- ApiCarrito
    ServicioBoleta -- ApiCarrito
    
    %% Relaciones - Operaciones a ApiCarro
    Nuevo --> ApiCarro
    Agregar --> ApiCarro
    Quitar --> ApiCarro
    
    %% Relaciones - ApiCarro a ServicioCarro
    ApiCarro --> ServicioCarro
    
    %% Relaciones - ServicioCarro a Carro
    ServicioCarro ..> Carro
    
    %% Relaciones - ApiCarrito a ServicioCarrito
    ApiCarrito --> ServicioCarrito
    
    %% Relaciones - ServicioCarrito a Repositorio
    ServicioCarrito --> Repositorio
    
    %% Relaciones - Repositorio a JpaRepository
    Repositorio o-- JpaRepository
    
    %% Relaciones - Repositorio a Linea (superior)
    Repositorio ..> Linea
    
    %% Relaciones - ServicioCarrito a EurekaServer
    ServicioCarrito ..> EurekaServer
    
    %% Relaciones - ApiBoletaCarrito a ServicioBoleta
    ApiBoletaCarrito --> ServicioBoleta
    
    %% Relaciones - ServicioBoleta a Boleta
    ServicioBoleta ..> Boleta
    
    %% Relaciones - ServicioBoleta a LineaInferior
    ServicioBoleta ..> LineaInferior